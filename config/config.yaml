# AI Traffic Violation & Helmet Detection System - Configuration

# =========================
# GENERAL SETTINGS
# =========================
APP_NAME: "Traffic Violation Detection System"
VERSION: "1.0.0"
DEBUG: true
LOG_LEVEL: "INFO"

# =========================
# MODEL PATHS
# =========================
MODELS:
  HELMET_DETECTION: "models/helmet_detection/best_helmet_model.pt"
  PLATE_DETECTION: "models/plate_detection/best_plate_model.pt"
  OCR_LANGUAGE: ["en"]

# =========================
# DETECTION SETTINGS
# =========================
DETECTION:
  HELMET:
    CONFIDENCE_THRESHOLD: 0.5
    IOU_THRESHOLD: 0.45
    MODEL_INPUT_SIZE: 640
    CLASSES:
      0: "no_helmet"
      1: "helmet"

  PLATE:
    CONFIDENCE_THRESHOLD: 0.4
    IOU_THRESHOLD: 0.45
    MODEL_INPUT_SIZE: 640

# =========================
# OCR SETTINGS
# =========================
OCR:
  ENGINE: "easyocr" # Options: easyocr, tesseract, paddleocr
  CONFIDENCE_THRESHOLD: 0.3
  INDIAN_PLATE_FORMAT: "^[A-Z]{2}[0-9]{2}[A-Z]{1,2}[0-9]{4}$"
  AUTO_CORRECT: true

# =========================
# VIOLATION RULES
# =========================
VIOLATIONS:
  HELMET_NOT_WORN:
    RULE_ID: "V001"
    PENALTY_AMOUNT: 500 # INR
    SEVERITY: "high"
    DESCRIPTION: "Helmet not worn"

  TRIPLE_RIDING:
    RULE_ID: "V002"
    PENALTY_AMOUNT: 1000
    SEVERITY: "high"

  SIGNAL_VIOLATION:
    RULE_ID: "V003"
    PENALTY_AMOUNT: 500
    SEVERITY: "medium"

# =========================
# VIDEO/STREAM PROCESSING
# =========================
VIDEO:
  FRAME_SKIP: 5 # Process every 5th frame
  FPS: 30
  RESOLUTION: [1280, 720]
  BUFFER_SIZE: 10 # Frames to buffer before processing

# =========================
# DATABASE SETTINGS
# =========================
DATABASE:
  TYPE: "postgresql" # Options: postgresql, mongodb, mysql
  POSTGRESQL:
    HOST: "localhost"
    PORT: 5432
    USER: "postgres"
    PASSWORD: "password"
    DATABASE: "traffic_violations"
  MONGODB:
    URI: "mongodb://localhost:27017"
    DATABASE: "traffic_violations"

# =========================
# API SETTINGS
# =========================
API:
  HOST: "0.0.0.0"
  PORT: 8000
  WORKERS: 4
  RELOAD: true

# =========================
# E-CHALLAN SETTINGS
# =========================
ECHALLAN:
  ENABLED: true
  AUTO_ISSUE: false # Set to true for automatic E-challan issuance
  API_ENDPOINT: "http://localhost:8000/api/challan/issue"
  NOTIFICATION_SERVICE: "email" # Options: email, sms, push

# =========================
# GEO-HEATMAP SETTINGS
# =========================
HEATMAP:
  MAP_CENTER: [28.7041, 77.1025] # New Delhi coordinates
  ZOOM_LEVEL: 12
  TILE_PROVIDER: "OpenStreetMap"
  VIOLATION_RADIUS: 100 # meters

# =========================
# LOGGING
# =========================
LOGGING:
  LOG_DIR: "logs"
  MAX_SIZE: 10485760 # 10MB
  BACKUP_COUNT: 5
  FORMAT: "{time:YYYY-MM-DD HH:mm:ss} | {level: <8} | {name}:{function}:{line} - {message}"

# =========================
# STORAGE
# =========================
STORAGE:
  EVIDENCE_DIR: "data/evidence"
  MODELS_DIR: "models"
  MAX_EVIDENCE_SIZE: 52428800 # 50MB per evidence image

# =========================
# NOTIFICATION SETTINGS
# =========================
NOTIFICATIONS:
  EMAIL:
    ENABLED: true
    SMTP_SERVER: "smtp.gmail.com"
    SMTP_PORT: 587
    FROM_EMAIL: "your-email@gmail.com"

  SMS:
    ENABLED: false
    PROVIDER: "twilio"

# =========================
# PERFORMANCE TUNING
# =========================
PERFORMANCE:
  USE_GPU: true
  BATCH_SIZE: 16
  NUM_WORKERS: 4
  QUEUE_SIZE: 100
